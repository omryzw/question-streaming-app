<div class="chat-container">
    <div class="messages-container">
      <!-- User Message -->
      <div class="message user" *ngIf="question">
        <div class="bubble">
          {{ question }}
        </div>
      </div>

      <!-- AI Response -->
      <div class="message assistant" *ngIf="response">
        <div class="bubble">
          <p>{{ response }}</p>
        </div>
      </div>

      <!-- Loading Indicator -->
      <div class="message assistant" *ngIf="isLoading">
        <div class="bubble">
          <div class="typing-indicator">
            <span></span><span></span><span></span>
          </div>
        </div>
      </div>

      <!-- Error Message -->
      <div class="error-message" *ngIf="error">
        <i class="fa-solid fa-triangle-exclamation"></i>
        {{ error }}
      </div>
    </div>

    <!-- Input Area -->
    <div class="input-container">
      <div class="input-wrapper">
        <input 
          [(ngModel)]="question" 
          placeholder="Message Dicomm Ai beta..." 
          (keyup.enter)="askQuestion()"
          [disabled]="isLoading"
          class="chat-input"
          aria-label="Type your message"
        >
        <button 
          (click)="askQuestion()" 
          [disabled]="isLoading || !question.trim()" 
          class="send-button"
          aria-label="Send message"
        >
          <i class="fa-regular fa-paper-plane"></i>
        </button>
      </div>
      <div class="disclaimer">DicommAi can make mistakes. Consider checking important information.</div>
    </div>
  </div>